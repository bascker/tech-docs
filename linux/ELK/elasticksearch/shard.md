# 分片(Shards)
Elasticsearch 中，索引 index 用于存储数据的地方，实际上 index 只是一个 logic namespace(逻辑命名空间), 它指向一个或多个 shards (分片).
1. shard 是工作单元底层的成员，只负责存储 index 中所有数据的一小部分。
2. 用户不直接与 shard 交互，而是通过 index 来获取分片上的数据
3. 分片是一个独立的Lucene实例既可，并且它自身也是一个完整的搜索引擎
4. 分片类型：
   * 主分片(primary shard)：每个索引中其默认值 5，控制集群索引能存储的最大数据量
   * 从分片(replica shard)：每个索引中其默认为 3， 主分片的一个副本，用于提供数据的冗余副本，在硬件故障时提供数据保护，同时服务于搜索和检索这种只读请求
5. 节点与分片：最好保持每个节点保存一个索引的分片(无论主从)，这样性能最佳
6. 分片数量增多，可以提高吞吐量(搜索性能)，但相应的也会带来更多的数据冗余。如：集群设置主分片数为3，从分片数为6，则索引总分片数为 9，若扩展集群数为 9，则每个节点
一个分片(分片的分布会由 Elasticsearch 自动控制)，这样该 **9节点集群的搜索性能 = 3 * 3节点性能**。
> 分片值的设置，可以修改，编辑 elasticsearch.yml 即可