# ulimt
## 简介
用来限制系统用户对shell资源的访问，对应的配置文件：\`_/etc/security/limits.conf_\`, 使用 ulimit 命令修改的配置，都是临时生效的，要永久生效需要修改配置文件.

## 选项
* -**a**：显示目前资源限制的设定
* -**c**：设定core文件的最大值，单位为区块
* -**d**&lt;数据节区大小&gt;：程序数据节区的最大值，单位为KB
* -**f**&lt;文件大小&gt;：shell所能建立的最大文件，单位为区块
* -**H**：设定资源的硬性限制，也就是管理员所设下的限制
* -**m**&lt;内存大小&gt;：指定可使用内存的上限，单位为KB
* -**n**&lt;文件数目&gt;：指定同一时间最多可开启的文件数
* -**p**&lt;缓冲区大小&gt;：指定管道缓冲区的大小，单位512字节
* -**s**&lt;堆叠大小&gt;：指定堆叠的上限，单位为KB
* -**S**：设定资源的弹性限制
* -**t**：指定CPU使用时间的上限，单位为秒
* -**u**&lt;程序数目&gt;：用户最多可开启的程序数目
* -**v**&lt;虚拟内存大小&gt;：指定可使用的虚拟内存上限，单位为KB

## 案例

修改最大文件打开数：**nofile **项有两个可能的限制措施。就是**&lt; type&gt; **项下的hard和soft。，要使修改过得最大打开文件数生效，必须对这两种限制进行设定。使用"**-**"字符设定&lt;type&gt;, 则hard和soft设定会同时被设定。注意：soft 限制**不能**设置的比hard限制更高

```
# 临时生效：设置最大文件打开数为 819200(1024 的 800 倍)
$ ulimit -n 819200

# 永久生效：尾部追加(只需要有空格就行，不一定要对齐)
$ vi /etc/security/limits.conf
*                -       nofile          819200
*                -       nproc           819200

$ reboot
$ ulimit -a
open files                      (-n) 819200
```