# 字符串船里
## 常用转义符

* 换行符：_\n_
* 空格：_\s_

## 计算字符串长度

```
# 方法1：用 wc 命令
$ echo aaa | wc -L
3

# 方法2: ${#str}
$ str=123456
$ echo ${#str}
6
```

## 截取字符串

```
$ str=http://www.baidu.com/index.html
$ echo ${str%%l}        # 截取掉str最后一个 l
http://www.baidu.com/index.htm

$ echo ${str%%/*}
http:
```

## 字符串截取

1._**% **_号操作符

从**右边**开始删除**第一次**出现子字符串即其右边字符，**保留左边**字符。用法为 _**%substr\***_

```
$ ip=10.20.101.1/24
# 删除第一次出现 / 位置及其右边所有字符
$ echo ${ip%/*}
10.20.101.1
```

2._**%% **_号操作符

从**右边**开始删除**最后一次**出现子字符串即其右边字符，**保留左边**字符。用法为_**%%substr\***_

```
$ ip="172.16.0.2"
$ s=${ip%%2*}
$ echo $s
17
```

3._**\#**_ 号操作符

从**左边**开始删除**第一次**出现子字符串即其左边字符，**保留右边**字符。用法为_**\#\*substr**_

```
$ ip="172.16.0.2"
$ s=${ip#*\.}
16.0.2
```

4._**\#\#**_ 号操作符

从**左边**开始删除**最后一次**出现子字符串即其左边字符，**保留右边**字符。用法为_**\#\#\*substr**_

```
$ ip="172.16.0.2"
$ s=${ip##*\.}
2
```

5._**${str:start:len}**_

截取子串，从**左边**第几个字符开始以及字符的个数

```
$ var="Hello,world"
# 0 表示左边第 0 个字符
# 5 表示截取 5 个
$ echo ${var:0:5}
Hello
```

6._**${str:0-start:len}**_

从**右边**第几个字符开始以及字符的个数

```
$ var="Hello,world"
# 9 表示截取 9 个
$ echo ${var:0-6:9}
,world
```

7.使用 _**cut **_命令截取部分值

```
# 获取字符串中的的某字符
$ str=node5
$ echo $str | cut -c 1                        # 获取首字符
n
$ echo $str | cut -c 3                        # 获取第3个元素
d
$ echo $str | cut -c ${#str}                  # 获取最后一个元素
5

# 获取字符串的子串
$ echo $str | cut -c 1,${#str}                # 获取首尾字符串拼接后的子串
n5
$ echo $str | cut -c -2                       # 获取前2个字符组成的子串
no
$ echo $str | cut -c -4                       # 获取前四个字符组成的子串
node
$ echo $str | cut -c -2,${#str}               # 获取前2个字符和尾字符组成的子串
no5

# 分割字符串
$ str=1,2,3,4,5
$ echo $str | cut -d "," -f 2                 # 按逗号分割，取分割后的第二列值
2
$ echo $str | cut -d "," -f 1 --complement    # 取补集
2,3,4,5
```